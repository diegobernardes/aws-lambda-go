// Code generated by go generate; DO NOT EDIT.
// Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

package lambda

import (
	"context"
  "encoding/json"

	"github.com/aws/aws-lambda-go/events"
	"github.com/aws/aws-lambda-go/lambda/handlertrace"
)

// NewHandler{{ .Struct }} is used to process {{ .Struct }} types.
func NewHandler{{ .Struct }}({{ generateParameters .Struct .Output }}) Handler {
	return lambdaHandler(func(ctx context.Context, payload []byte) (interface{}, error) {
		trace := handlertrace.FromContext(ctx)

		var e events.{{ .Struct }}
		if err := json.Unmarshal(payload, &e); err != nil {
			panic(err)
		}

		if trace.RequestEvent != nil {
			trace.RequestEvent(ctx, e)
		}
		{{ if eq (len .Output) 1 }}
			{{- template "functionSingleReturn" -}}
		{{ else if gt (len .Output) 1 }}
			{{- template "functionMultipleReturn" -}}
		{{ else }}
			{{- template "functionNoReturn" -}}
		{{ end }}
	})
}